"use strict";var burgerBtn,navBar,navBtns,navBtnBars,allSections,footerYear,callBtn,navBtn,body,modal,sendBtn,closeModalBtn,nameInput,phoneInput,mailInput,textArea,errorMsgPhone,errorMsgName,errorMsgMail,errorMsgTextArea,errorCount=0,main=function(){prepareDOMElements(),prepareDOMEvents(),handleCurrentYear()},prepareDOMElements=function(){burgerBtn=document.querySelector(".burger-btn"),navBar=document.querySelector("nav"),navBtns=document.querySelectorAll(".nav__item"),navBtnBars=document.querySelector(".burger-btn__bars"),allSections=document.querySelectorAll(".section"),footerYear=document.querySelector(".footer__year"),callBtn=document.querySelector(".contact__details-item--call"),navBtn=document.querySelector(".contact__details-item--navigate"),body=document.querySelector("body"),modal=document.querySelector(".contact__modal"),sendBtn=document.querySelector(".contact__form-btn"),closeModalBtn=document.querySelector(".contact__modal-closeBtn"),nameInput=document.getElementById("name"),phoneInput=document.getElementById("number"),mailInput=document.getElementById("email"),textArea=document.querySelector(".contact__form-textarea"),errorMsgName=document.querySelector(".contact__form-errorMsg--name"),errorMsgPhone=document.querySelector(".contact__form-errorMsg--phone"),errorMsgMail=document.querySelector(".contact__form-errorMsg--mail"),errorMsgTextArea=document.querySelector(".contact__form-errorMsg--textArea")},prepareDOMEvents=function(){burgerBtn.addEventListener("click",active),window.addEventListener("scroll",handleObserver),callBtn.addEventListener("click",handleCallButton),navBtn.addEventListener("click",handleNavButton),sendBtn.addEventListener("click",function(e){e.preventDefault()}),sendBtn.addEventListener("click",countErrors),closeModalBtn.addEventListener("click",closeModal)},closeModal=function(){modal.classList.remove("contact__modal--active")},clearInputs=function(){nameInput.value="",phoneInput.value="",mailInput.value="",textArea.value=""},validateName=function(){""===nameInput.value?(errorMsgName.classList.add("contact__form-errorMsg--active"),errorCount++):errorMsgName.classList.remove("contact__form-errorMsg--active")},validatePhoneNumber=function(){/^[0-9\s]*$/.test(phoneInput.value)&&""!==phoneInput.value?errorMsgPhone.classList.remove("contact__form-errorMsg--active"):(errorMsgPhone.classList.add("contact__form-errorMsg--active"),errorCount++)},validateMail=function(){/^(([^<>()[\]\.,;:\s@\"]+(\.[^<>()[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,4})$/i.test(mailInput.value)?errorMsgMail.classList.remove("contact__form-errorMsg--active"):(errorMsgMail.classList.add("contact__form-errorMsg--active"),errorCount++)},validateTextArea=function(){""===textArea.value?(errorMsgTextArea.classList.add("contact__form-errorMsg--active"),errorCount++):errorMsgTextArea.classList.remove("contact__form-errorMsg--active")},countErrors=function(){validateName(),validatePhoneNumber(),validateMail(),validateTextArea(),0!==errorCount?errorCount=0:0===errorCount&&"?mail_status=sent"===document.location.search?(modal.classList.add("contact__modal--active"),clearInputs(),errorCount=0):0===errorCount&&"?mail_status=error"===document.location.search&&console.log("nie udało się wysłać")};function active(){navBar.classList.toggle("nav--active"),navBtnBars.classList.remove("black-bars-color"),navBtnBars.classList.remove("grey-bars-color"),body.classList.toggle("overflowHidden"),navBtns.forEach(function(e){e.addEventListener("click",function(){navBar.classList.remove("nav--active"),body.classList.remove("overflowHidden"),handleNavItemsAnimation()})}),handleNavItemsAnimation()}var handleCallButton=function(){window.open("tel:".concat("570 681 958"))},handleNavButton=function(){window.open("https://www.google.com/maps/dir//Pan+ekspres+-+serwis+i+naprawa+ekspres%C3%B3w,+Prudnicka+25,+48-300+Nysa/@50.4685725,17.336327,17z/data=!4m9!4m8!1m0!1m5!1m1!1s0x4711c56051469b15:0x6bb22e8ddac37a1f!2m2!1d17.3389019!2d50.4685691!3e0?entry=ttu","_blank")},handleNavItemsAnimation=function(){var t=0;navBtns.forEach(function(e){e.classList.toggle("nav-items-animation"),e.style.animationDelay="."+t+"s",t++})},handleCurrentYear=function(){var e=(new Date).getFullYear();footerYear.innerText=e},handleObserver=function(){var t=window.scrollY;allSections.forEach(function(e){innerWidth<=576&&e.classList.contains("contact")&&e.offsetTop<=t-450?navBtnBars.classList.add("grey-bars-color"):e.classList.contains("white-section")&&e.offsetTop<=t+60?navBtnBars.classList.add("black-bars-color"):!e.classList.contains("white-section")&&e.offsetTop<=t+60&&(navBtnBars.classList.remove("black-bars-color"),navBtnBars.classList.remove("grey-bars-color"))})};document.addEventListener("DOMContentLoaded",main);
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNjcmlwdC5qcyJdLCJuYW1lcyI6WyJidXJnZXJCdG4iLCJuYXZCYXIiLCJuYXZCdG5zIiwibmF2QnRuQmFycyIsImFsbFNlY3Rpb25zIiwiZm9vdGVyWWVhciIsImNhbGxCdG4iLCJuYXZCdG4iLCJib2R5IiwibW9kYWwiLCJzZW5kQnRuIiwiY2xvc2VNb2RhbEJ0biIsIm5hbWVJbnB1dCIsInBob25lSW5wdXQiLCJtYWlsSW5wdXQiLCJ0ZXh0QXJlYSIsImVycm9yTXNnUGhvbmUiLCJlcnJvck1zZ05hbWUiLCJlcnJvck1zZ01haWwiLCJlcnJvckNvdW50IiwicHJlcGFyZURPTUVsZW1lbnRzIiwibWFpbiIsInByZXBhcmVET01FdmVudHMiLCJoYW5kbGVDdXJyZW50WWVhciIsImRvY3VtZW50IiwicXVlcnlTZWxlY3RvciIsInF1ZXJ5U2VsZWN0b3JBbGwiLCJnZXRFbGVtZW50QnlJZCIsImVycm9yTXNnVGV4dEFyZWEiLCJhZGRFdmVudExpc3RlbmVyIiwiaGFuZGxlT2JzZXJ2ZXIiLCJ3aW5kb3ciLCJoYW5kbGVDYWxsQnV0dG9uIiwiaGFuZGxlTmF2QnV0dG9uIiwiZXZlbnQiLCJwcmV2ZW50RGVmYXVsdCIsImNvdW50RXJyb3JzIiwiY2xvc2VNb2RhbCIsImNsZWFySW5wdXRzIiwicmVtb3ZlIiwidmFsdWUiLCJ2YWxpZGF0ZU5hbWUiLCJjbGFzc0xpc3QiLCJhZGQiLCJ2YWxpZGF0ZVBob25lTnVtYmVyIiwidmFsaWRhdGVNYWlsIiwidmFsaWRhdGVUZXh0QXJlYSIsImxvZyIsImxvY2F0aW9uIiwic2VhcmNoIiwiaGFuZGxlTmF2SXRlbXNBbmltYXRpb24iLCJjb25zb2xlIiwib3BlbiIsInRvZ2dsZSIsImRlbGF5VGltZSIsIml0ZW0iLCJhbmltYXRpb25EZWxheSIsImZvckVhY2giLCJzdHlsZSIsInllYXIiLCJEYXRlIiwiZ2V0RnVsbFllYXIiLCJpbm5lclRleHQiLCJjdXJyZW50U2VjdGlvbiIsInNjcm9sbFkiLCJzZWN0aW9uIiwiaW5u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QUFZLEVBQ3BDeEQsV0FBV3lELFVBQVlILENBQ3hCLEVBRU03QixlQUFpQixXQUN0QixJQUFNaUMsRUFBaUJoQyxPQUFPaUMsUUFFOUI1RCxZQUFZcUQsUUFBUSxTQUFBUSxHQUNmQyxZQUFjLEtBQU9ELEVBQVF2QixVQUFVeUIsU0FBUyxTQUFTLEdBQUtGLEVBQVFHLFdBQWFMLEVBQWlCLElBQ3ZHNUQsV0FBV3VDLFVBQVVDLElBQUksaUJBQWlCLEVBQ2hDc0IsRUFBUXZCLFVBQVV5QixTQUFTLGVBQWUsR0FBS0YsRUFBUUcsV0FBYUwsRUFBaUIsR0FDL0Y1RCxXQUFXdUMsVUFBVUMsSUFBSSxrQkFBa0IsRUFDakMsQ0FBQ3NCLEVBQVF2QixVQUFVeUIsU0FBUyxlQUFlLEdBQUtGLEVBQVFHLFdBQWFMLEVBQWlCLEtBQ2hHNUQsV0FBV3VDLFVBQVVILE9BQU8sa0JBQWtCLEVBQzlDcEMsV0FBV3VDLFVBQVVILE9BQU8saUJBQWlCLEVBRS9DLENBQUMsQ0FDRixFQUVBZixTQUFTSyxpQkFBaUIsbUJBQW9CUixJQUFJIiwiZmlsZSI6InNjcmlwdC5taW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJsZXQgYnVyZ2VyQnRuXHJcbmxldCBuYXZCYXJcclxubGV0IG5hdkJ0bnNcclxubGV0IG5hdkJ0bkJhcnNcclxubGV0IGFsbFNlY3Rpb25zXHJcbmxldCBmb290ZXJZZWFyXHJcbmxldCBjYWxsQnRuXHJcbmxldCBuYXZCdG5cclxubGV0IGJvZHlcclxubGV0IG1vZGFsXHJcbmxldCBzZW5kQnRuXHJcbmxldCBjbG9zZU1vZGFsQnRuXHJcbmxldCBuYW1lSW5wdXRcclxubGV0IHBob25lSW5wdXRcclxubGV0IG1haWxJbnB1dFxyXG5sZXQgdGV4dEFyZWFcclxubGV0IGVycm9yTXNnUGhvbmVcclxubGV0IGVycm9yTXNnTmFtZVxyXG5sZXQgZXJyb3JNc2dNYWlsXHJcbmxldCBlcnJvck1zZ1RleHRBcmVhXHJcbmxldCBlcnJvckNvdW50ID0gMFxyXG5cclxuY29uc3QgbWFpbiA9ICgpID0+IHtcclxuXHRwcmVwYXJlRE9NRWxlbWVudHMoKVxyXG5cdHByZXBhcmVET01FdmVudHMoKVxyXG5cdGhhbmRsZUN1cnJlbnRZZWFyKClcclxufVxyXG5cclxuY29uc3QgcHJlcGFyZURPTUVsZW1lbnRzID0gKCkgPT4ge1xyXG5cdGJ1cmdlckJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5idXJnZXItYnRuJylcclxuXHRuYXZCYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCduYXYnKVxyXG5cdG5hdkJ0bnMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCcubmF2X19pdGVtJylcclxuXHRuYXZCdG5CYXJzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmJ1cmdlci1idG5fX2JhcnMnKVxyXG5cdGFsbFNlY3Rpb25zID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnLnNlY3Rpb24nKVxyXG5cdGZvb3RlclllYXIgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9vdGVyX195ZWFyJylcclxuXHRjYWxsQnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2RldGFpbHMtaXRlbS0tY2FsbCcpXHJcblx0bmF2QnRuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2RldGFpbHMtaXRlbS0tbmF2aWdhdGUnKVxyXG5cdGJvZHkgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCdib2R5JylcclxuXHRtb2RhbCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19tb2RhbCcpXHJcblx0c2VuZEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWJ0bicpXHJcblx0Y2xvc2VNb2RhbEJ0biA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19tb2RhbC1jbG9zZUJ0bicpXHJcblx0bmFtZUlucHV0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ25hbWUnKVxyXG5cdHBob25lSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnbnVtYmVyJylcclxuXHRtYWlsSW5wdXQgPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnZW1haWwnKVxyXG5cdHRleHRBcmVhID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2Zvcm0tdGV4dGFyZWEnKVxyXG5cdGVycm9yTXNnTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWVycm9yTXNnLS1uYW1lJylcclxuXHRlcnJvck1zZ1Bob25lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmNvbnRhY3RfX2Zvcm0tZXJyb3JNc2ctLXBob25lJylcclxuXHRlcnJvck1zZ01haWwgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuY29udGFjdF9fZm9ybS1lcnJvck1zZy0tbWFpbCcpXHJcblx0ZXJyb3JNc2dUZXh0QXJlYSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5jb250YWN0X19mb3JtLWVycm9yTXNnLS10ZXh0QXJlYScpXHJcbn1cclxuXHJcbmNvbnN0IHByZXBhcmVET01FdmVudHMgPSAoKSA9PiB7XHJcblx0YnVyZ2VyQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgYWN0aXZlKVxyXG5cdHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdzY3JvbGwnLCBoYW5kbGVPYnNlcnZlcilcclxuXHRjYWxsQnRuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgaGFuZGxlQ2FsbEJ1dHRvbilcclxuXHRuYXZCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBoYW5kbGVOYXZCdXR0b24pXHJcblx0c2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cdH0pXHJcblx0c2VuZEJ0bi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGNvdW50RXJyb3JzKVxyXG5cdGNsb3NlTW9kYWxCdG4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBjbG9zZU1vZGFsKVxyXG59XHJcblxyXG5cclxuY29uc3QgY2xvc2VNb2RhbCA9ICgpID0+IHtcclxuXHRtb2RhbC5jbGFzc0xpc3QucmVtb3ZlKCdjb250YWN0X19tb2RhbC0tYWN0aXZlJylcclxufVxyXG5cclxuY29uc3QgY2xlYXJJbnB1dHMgPSAoKSA9PiB7XHJcblx0bmFtZUlucHV0LnZhbHVlID0gJydcclxuXHRwaG9uZUlucHV0LnZhbHVlID0gJydcclxuXHRtYWlsSW5wdXQudmFsdWUgPSAnJ1xyXG5cdHRleHRBcmVhLnZhbHVlID0gJydcclxufVxyXG5cclxuY29uc3QgdmFsaWRhdGVOYW1lID0gKCkgPT4ge1xyXG5cdGlmIChuYW1lSW5wdXQudmFsdWUgPT09ICcnKSB7XHJcblx0XHRlcnJvck1zZ05hbWUuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHRcdGVycm9yQ291bnQrK1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlcnJvck1zZ05hbWUuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHR9XHJcbn1cclxuXHJcbmNvbnN0IHZhbGlkYXRlUGhvbmVOdW1iZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgcmUgPSAvXlswLTlcXHNdKiQvXHJcblx0XHJcblx0aWYgKHJlLnRlc3QocGhvbmVJbnB1dC52YWx1ZSkgJiYgcGhvbmVJbnB1dC52YWx1ZSAhPT0gJycpIHtcclxuXHRcdGVycm9yTXNnUGhvbmUuY2xhc3NMaXN0LnJlbW92ZSgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHR9IGVsc2Uge1xyXG5cdFx0ZXJyb3JNc2dQaG9uZS5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19mb3JtLWVycm9yTXNnLS1hY3RpdmUnKVxyXG5cdFx0ZXJyb3JDb3VudCsrXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0ZU1haWwgPSAoKSA9PiB7XHJcblx0Y29uc3QgcmVnID1cclxuXHQvXigoW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSsoXFwuW148PigpW1xcXVxcLiw7Olxcc0BcXFwiXSspKil8KFxcXCIuK1xcXCIpKUAoKFtePD4oKVtcXF1cXC4sOzpcXHNAXFxcIl0rXFwuKStbXjw+KClbXFxdXFwuLDs6XFxzQFxcXCJdezIsNH0pJC9pXHJcblx0XHJcblx0aWYocmVnLnRlc3QobWFpbElucHV0LnZhbHVlKSkge1xyXG5cdFx0ZXJyb3JNc2dNYWlsLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2Zvcm0tZXJyb3JNc2ctLWFjdGl2ZScpXHJcblx0fSBlbHNlIHtcclxuXHRcdGVycm9yTXNnTWFpbC5jbGFzc0xpc3QuYWRkKCdjb250YWN0X19mb3JtLWVycm9yTXNnLS1hY3RpdmUnKVxyXG5cdFx0ZXJyb3JDb3VudCsrXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCB2YWxpZGF0ZVRleHRBcmVhID0gKCkgPT4ge1xyXG5cdGlmICh0ZXh0QXJlYS52YWx1ZSA9PT0gJycpIHtcclxuXHRcdGVycm9yTXNnVGV4dEFyZWEuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fZm9ybS1lcnJvck1zZy0tYWN0aXZlJylcclxuXHRcdGVycm9yQ291bnQrK1xyXG5cdH0gZWxzZSB7XHJcblx0XHRlcnJvck1zZ1RleHRBcmVhLmNsYXNzTGlzdC5yZW1vdmUoJ2NvbnRhY3RfX2Zvcm0tZXJyb3JNc2ctLWFjdGl2ZScpXHJcblx0fVxyXG59XHJcblxyXG5jb25zdCBjb3VudEVycm9ycyA9ICgpID0+IHtcclxuXHR2YWxpZGF0ZU5hbWUoKVxyXG5cdHZhbGlkYXRlUGhvbmVOdW1iZXIoKVxyXG5cdHZhbGlkYXRlTWFpbCgpXHJcblx0dmFsaWRhdGVUZXh0QXJlYSgpXHJcblxyXG5cclxuXHRpZihlcnJvckNvdW50ICE9PSAwKSB7XHJcblx0XHRlcnJvckNvdW50ID0gMFxyXG5cdFx0cmV0dXJuXHJcblx0fSBlbHNlIGlmIChlcnJvckNvdW50ID09PSAwICYmIGRvY3VtZW50LmxvY2F0aW9uLnNlYXJjaCA9PT0gJz9tYWlsX3N0YXR1cz1zZW50Jykge1xyXG5cdFx0bW9kYWwuY2xhc3NMaXN0LmFkZCgnY29udGFjdF9fbW9kYWwtLWFjdGl2ZScpXHJcblx0XHRjbGVhcklucHV0cygpXHJcblx0XHRlcnJvckNvdW50ID0gMFxyXG5cdH0gZWxzZSBpZiAoZXJyb3JDb3VudCA9PT0gMCAmJiBkb2N1bWVudC5sb2NhdGlvbi5zZWFyY2ggPT09ICc/bWFpbF9zdGF0dXM9ZXJyb3InKSB7XHJcblx0XHRjb25zb2xlLmxvZygnbmllIHVkYcWCbyBzacSZIHd5c8WCYcSHJyk7XHJcblx0fVxyXG5cclxufVxyXG5cclxuZnVuY3Rpb24gYWN0aXZlKCkge1xyXG5cdG5hdkJhci5jbGFzc0xpc3QudG9nZ2xlKCduYXYtLWFjdGl2ZScpXHJcblx0XHJcblx0bmF2QnRuQmFycy5jbGFzc0xpc3QucmVtb3ZlKCdibGFjay1iYXJzLWNvbG9yJylcclxuXHRuYXZCdG5CYXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2dyZXktYmFycy1jb2xvcicpXHJcblx0XHJcblx0Ym9keS5jbGFzc0xpc3QudG9nZ2xlKCdvdmVyZmxvd0hpZGRlbicpXHJcblxyXG5cdG5hdkJ0bnMuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdGl0ZW0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcblx0XHRcdG5hdkJhci5jbGFzc0xpc3QucmVtb3ZlKCduYXYtLWFjdGl2ZScpXHJcblx0XHRcdGJvZHkuY2xhc3NMaXN0LnJlbW92ZSgnb3ZlcmZsb3dIaWRkZW4nKVxyXG5cdFx0XHRoYW5kbGVOYXZJdGVtc0FuaW1hdGlvbigpXHJcblx0XHR9KVxyXG5cdH0pXHJcblxyXG5cdGhhbmRsZU5hdkl0ZW1zQW5pbWF0aW9uKClcclxufVxyXG5cclxuY29uc3QgaGFuZGxlQ2FsbEJ1dHRvbiA9ICgpID0+IHtcclxuXHRjb25zdCBwaG9uZU51bWJlciA9ICc1NzAgNjgxIDk1OCdcclxuXHR3aW5kb3cub3BlbihgdGVsOiR7cGhvbmVOdW1iZXJ9YClcclxufVxyXG5cclxuY29uc3QgaGFuZGxlTmF2QnV0dG9uID0gKCkgPT4ge1xyXG5cdHdpbmRvdy5vcGVuKFxyXG5cdFx0YGh0dHBzOi8vd3d3Lmdvb2dsZS5jb20vbWFwcy9kaXIvL1Bhbitla3NwcmVzKy0rc2Vyd2lzK2krbmFwcmF3YStla3NwcmVzJUMzJUIzdywrUHJ1ZG5pY2thKzI1LCs0OC0zMDArTnlzYS9ANTAuNDY4NTcyNSwxNy4zMzYzMjcsMTd6L2RhdGE9ITRtOSE0bTghMW0wITFtNSExbTEhMXMweDQ3MTFjNTYwNTE0NjliMTU6MHg2YmIyMmU4ZGRhYzM3YTFmITJtMiExZDE3LjMzODkwMTkhMmQ1MC40Njg1NjkxITNlMD9lbnRyeT10dHVgLFxyXG5cdFx0YF9ibGFua2BcclxuXHQpXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZU5hdkl0ZW1zQW5pbWF0aW9uID0gKCkgPT4ge1xyXG5cdGxldCBkZWxheVRpbWUgPSAwXHJcblxyXG5cdG5hdkJ0bnMuZm9yRWFjaChpdGVtID0+IHtcclxuXHRcdGl0ZW0uY2xhc3NMaXN0LnRvZ2dsZSgnbmF2LWl0ZW1zLWFuaW1hdGlvbicpXHJcblx0XHRpdGVtLnN0eWxlLmFuaW1hdGlvbkRlbGF5ID0gJy4nICsgZGVsYXlUaW1lICsgJ3MnXHJcblx0XHRkZWxheVRpbWUrK1xyXG5cdH0pXHJcbn1cclxuXHJcbmNvbnN0IGhhbmRsZUN1cnJlbnRZZWFyID0gKCkgPT4ge1xyXG5cdGNvbnN0IHllYXIgPSBuZXcgRGF0ZSgpLmdldEZ1bGxZZWFyKClcclxuXHRmb290ZXJZZWFyLmlubmVyVGV4dCA9IHllYXJcclxufVxyXG5cclxuY29uc3QgaGFuZGxlT2JzZXJ2ZXIgPSAoKSA9PiB7XHJcblx0Y29uc3QgY3VycmVudFNlY3Rpb24gPSB3aW5kb3cuc2Nyb2xsWVxyXG5cclxuXHRhbGxTZWN0aW9ucy5mb3JFYWNoKHNlY3Rpb24gPT4ge1xyXG5cdFx0aWYgKGlubmVyV2lkdGggPD0gNTc2ICYmIHNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCdjb250YWN0JykgJiYgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gLSA0NTApIHtcclxuXHRcdFx0bmF2QnRuQmFycy5jbGFzc0xpc3QuYWRkKCdncmV5LWJhcnMtY29sb3InKVxyXG5cdFx0fSBlbHNlIGlmIChzZWN0aW9uLmNsYXNzTGlzdC5jb250YWlucygnd2hpdGUtc2VjdGlvbicpICYmIHNlY3Rpb24ub2Zmc2V0VG9wIDw9IGN1cnJlbnRTZWN0aW9uICsgNjApIHtcclxuXHRcdFx0bmF2QnRuQmFycy5jbGFzc0xpc3QuYWRkKCdibGFjay1iYXJzLWNvbG9yJylcclxuXHRcdH0gZWxzZSBpZiAoIXNlY3Rpb24uY2xhc3NMaXN0LmNvbnRhaW5zKCd3aGl0ZS1zZWN0aW9uJykgJiYgc2VjdGlvbi5vZmZzZXRUb3AgPD0gY3VycmVudFNlY3Rpb24gKyA2MCkge1xyXG5cdFx0XHRuYXZCdG5CYXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2JsYWNrLWJhcnMtY29sb3InKVxyXG5cdFx0XHRuYXZCdG5CYXJzLmNsYXNzTGlzdC5yZW1vdmUoJ2dyZXktYmFycy1jb2xvcicpXHJcblx0XHR9XHJcblx0fSlcclxufVxyXG5cclxuZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignRE9NQ29udGVudExvYWRlZCcsIG1haW4pXHJcbiJdfQ==
